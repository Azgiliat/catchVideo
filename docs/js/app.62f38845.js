(function(t){function e(e){for(var n,r,a=e[0],c=e[1],u=e[2],l=0,h=[];l<a.length;l++)r=a[l],Object.prototype.hasOwnProperty.call(i,r)&&i[r]&&h.push(i[r][0]),i[r]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);p&&p(e);while(h.length)h.shift()();return s.push.apply(s,u||[]),o()}function o(){for(var t,e=0;e<s.length;e++){for(var o=s[e],n=!0,a=1;a<o.length;a++){var c=o[a];0!==i[c]&&(n=!1)}n&&(s.splice(e--,1),t=r(r.s=o[0]))}return t}var n={},i={app:0},s=[];function r(e){if(n[e])return n[e].exports;var o=n[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=t,r.c=n,r.d=function(t,e,o){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(r.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)r.d(o,n,function(e){return t[e]}.bind(null,n));return o},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],c=a.push.bind(a);a.push=e,a=a.slice();for(var u=0;u<a.length;u++)e(a[u]);var p=c;s.push([0,"chunk-vendors"]),o()})({0:function(t,e,o){t.exports=o("56d7")},"0b86":function(t,e,o){"use strict";var n=o("fb6a"),i=o.n(n);i.a},2691:function(t,e,o){"use strict";var n=o("52be"),i=o.n(n);i.a},"4d5c":function(t,e,o){},"52be":function(t,e,o){},"56d7":function(t,e,o){"use strict";o.r(e);o("e260"),o("e6cf"),o("cca6"),o("a79d"),o("78a7");var n=o("2b0e");n["a"].directive("resize",{inserted:function(t,e){window.addEventListener("resize",e.value)}});var i=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{directives:[{name:"resize",rawName:"v-resize",value:t.resize,expression:"resize"}],attrs:{id:"app"}},[o("transition",{attrs:{name:"rebuild",mode:"out-in"}},[o(t.isMobile,{tag:"component"})],1)],1)},s=[],r=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"container"},[t._l(t.buttons,(function(e){return o("button",{staticClass:"mobile-btn",on:{click:function(o){t.currentComponent=e.data}}},[t._v(t._s(e.text))])})),o("transition",{attrs:{name:"slide",mode:"out-in"}},[o(t.currentComponent,t._b({tag:"component",staticClass:"slider-element",on:{pushPhoto:t.pushPhoto}},"component",t.currentProp,!1))],1)],2)},a=[],c=(o("99af"),o("284c")),u=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{directives:[{name:"resize",rawName:"v-resize",value:t.resize,expression:"resize"}],staticClass:"video-wrapper"},[o("video",{staticClass:"video",attrs:{autoplay:""},domProps:{srcObject:t.stream},on:{canplay:t.videoRdy}}),t.canPlay?o("takePhoto",{attrs:{video:t.video,styleObj:t.styleObj},on:{pushPhoto:t.pushPhoto}}):t._e()],1)},p=[],l=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"current-photo"},[o("div",{staticClass:"canvas-wrapper"},[o("canvas",{staticClass:"photos-canvas",attrs:{height:t.styleObj.height,width:t.styleObj.width}})]),o("button",{on:{click:t.takePhoto}},[t._v("take photo")])])},h=[],d={name:"takePhoto",props:{video:{type:HTMLVideoElement,require:!0},styleObj:{type:Object,reauire:!1}},data:function(){return{canvas:void 0}},mounted:function(){this.canvas=this.$el.querySelector(".photos-canvas")},methods:{takePhoto:function(){var t=this.canvas.getContext("2d");t.drawImage(this.video,0,0,this.canvas.width,this.canvas.height),this.$emit("pushPhoto",{photo:this.canvas.toDataURL("image/png")})}}},f=d,m=o("2877"),v=Object(m["a"])(f,l,h,!1,null,null,null),b=v.exports,y={name:"Video",props:{stream:{type:MediaStream,require:!0}},components:{takePhoto:b},data:function(){return{video:void 0,styleObj:{width:0,height:0},canPlay:!1}},mounted:function(){this.video=this.$el.querySelector(".video")},methods:{pushPhoto:function(t){this.$emit("pushPhoto",t)},videoRdy:function(){this.styleObj={width:"".concat(this.video.clientWidth,"px"),height:"".concat(this.video.clientHeight,"px")},this.canPlay=!0},resize:function(){this.styleObj={width:"".concat(this.video.clientWidth,"px"),height:"".concat(this.video.clientHeight,"px")}}}},P=y,g=Object(m["a"])(P,u,p,!1,null,"5471363b",null),_=g.exports,w=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("ul",{staticClass:"photos-wrapper photos"},[o("transition-group",{attrs:{name:"remove"}},t._l(t.photos,(function(e,n){return o("photosListItem",{key:e,staticClass:"photos__list-item",attrs:{photo:e},on:{del:function(e){return t.photos.splice(n,1)}}})})),1)],1)},O=[],j=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("li",[o("button",{staticClass:"photos__delete-btn",on:{click:function(e){return e.preventDefault(),t.$emit("del")}}},[t._v("X")]),o("img",{staticClass:"photos__img",attrs:{src:t.photo}})])},x=[],C={name:"photos-list-item",props:{photo:{type:String,reauire:!0}}},k=C,M=Object(m["a"])(k,j,x,!1,null,"4ebed62b",null),z=M.exports,$={name:"Photos",components:{photosListItem:z},props:{photos:{type:Array,require:!0}},data:function(){return{}}},A=$,E=(o("71f4"),Object(m["a"])(A,w,O,!1,null,null,null)),S=E.exports,V={name:"mobileApp",components:{Video:_,Photos:S},data:function(){return{buttons:[{text:"Камера",data:"Video"},{text:"Снимки",data:"Photos"}],stream:null,currentComponent:"Video",photos:[]}},computed:{currentProp:function(){return"Video"===this.currentComponent?{stream:this.stream}:"Photos"===this.currentComponent?{photos:this.photos}:void 0}},methods:{pushPhoto:function(t){this.photos=[].concat(Object(c["a"])(this.photos),[t.photo])}},created:function(){var t=this;navigator.mediaDevices.getUserMedia({video:!0}).then((function(e){t.stream=e})).catch((function(t){console.error(t)}))}},q=V,L=(o("2691"),Object(m["a"])(q,r,a,!1,null,null,null)),D=L.exports,T=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"container"},[o("Video",{attrs:{stream:t.stream},on:{pushPhoto:t.pushPhoto}}),o("Photos",{attrs:{photos:t.photos}})],1)},H=[],I={name:"desktopApp",components:{Video:_,Photos:S},data:function(){return{stream:void 0,photos:[]}},methods:{pushPhoto:function(t){this.photos=[].concat(Object(c["a"])(this.photos),[t.photo])}},created:function(){var t=this;navigator.mediaDevices.getUserMedia({video:!0}).then((function(e){t.stream=e})).catch((function(t){console.error(t)}))}},R=I,U=Object(m["a"])(R,T,H,!1,null,null,null),J=U.exports,N={name:"app",components:{mobileApp:D,desktopApp:J},data:function(){return{isMobile:"desktopApp"}},methods:{resize:function(){window.matchMedia("(min-width: 768px)").matches?this.isMobile="desktopApp":this.isMobile="mobileApp"}},created:function(){window.matchMedia("(min-width: 768px)").matches?this.isMobile="desktopApp":this.isMobile="mobileApp"}},W=N,X=(o("0b86"),Object(m["a"])(W,i,s,!1,null,null,null)),B=X.exports;n["a"].config.productionTip=!1,new n["a"]({el:"#app",render:function(t){return t(B)}})},"71f4":function(t,e,o){"use strict";var n=o("4d5c"),i=o.n(n);i.a},"78a7":function(t,e,o){},fb6a:function(t,e,o){}});
//# sourceMappingURL=app.62f38845.js.map